!function(e){e.fn.simpleMobileMenu=function(s){const n=e.extend({},{hamburgerId:"sm_menu_ham",wrapperClass:"sm_menu_outer",submenuClass:"sub-menu",menuStyle:"slide",menuContainer:null,enableBreadcrumbs:!1,homeText:"Home",onMenuLoad:()=>!0,onMenuToggle:()=>!0},s),a=this,t=e("<div/>",{id:n.hamburgerId,html:"<span></span><span></span><span></span><span></span>"}),l=n.enableBreadcrumbs?e("<div/>",{class:"sm_menu_breadcrumb"}):null,i=e("<div/>",{class:`${n.wrapperClass} ${n.menuStyle.toLowerCase()}`});n.enableBreadcrumbs&&i.append(l),i.append(a);const o=()=>{if(!n.enableBreadcrumbs)return;if(!i.hasClass("active"))return void l.hide();let s=[];const a=i.find("li.active").last();a.length&&a.parents("li.hasChild").addBack().each(function(){const a=e(this),t=a.find("> a").first().text(),l=a.parents(`ul.${n.submenuClass}`).length;s.push({text:t,$li:a,depth:l})}),l.empty();const t=e("<div/>",{class:"sm_menu_breadcrumb_links"}),r=e("<a/>",{href:"#"}).append(e("<span/>",{class:0===s.length?"sm_menu_home active":"sm_menu_home inactive",text:n.homeText})).on("click",function(e){e.preventDefault(),i.find("li.active").removeClass("active"),o()});t.append(r),s.length>0&&(t.append(e("<span/>",{class:"sm_menu_breadcrumb_seperator"})),s.forEach((a,l)=>{const i=l===s.length-1,c=e("<span/>",{text:a.text});i&&c.addClass("active");const r=e("<a/>",{href:"#"}).append(c).on("click",function(e){e.preventDefault();const s=a.$li.find(`> .${n.submenuClass}`);s.length&&s.find("li.active").removeClass("active"),o()});t.append(r),i||t.append(e("<span/>",{class:"sm_menu_breadcrumb_seperator"}))})),l.append(t),l.show(),c()},c=()=>{n.enableBreadcrumbs&&l&&setTimeout(()=>{const e=l.outerHeight();i[0].style.setProperty("--breadcrumb-height",`${e}px`),a.css("margin-top",`${e}px`),i.find(`.${n.submenuClass}`).css("padding-top",`${e}px`)},10)};a.appendTo(i);const r=n.menuContainer&&e(n.menuContainer).length?e(n.menuContainer):e("body");return t.add(i).appendTo(r),i.find(`ul.${n.submenuClass}`).each(function(){const s=e(this),a=s.closest("li"),t=a.find("> a"),l=e("<li/>",{class:"back",html:`<a href='#'>${t.text()}</a>`});a.addClass("hasChild"),"slide"===n.menuStyle.toLowerCase()&&l.prependTo(s)}),n.enableBreadcrumbs&&o(),t.on("click",()=>{const s=e("#"+n.hamburgerId),t=e("."+n.wrapperClass);s.toggleClass("open"),t.toggleClass("active").find("li.active").removeClass("active"),e("body").toggleClass("mmactive"),t.hasClass("active")?t.css("display","block"):t.css("display","none"),"accordion"===n.menuStyle.toLowerCase()&&t.find(`ul.${n.submenuClass}`).hide(),n.enableBreadcrumbs&&(s.hasClass("open")?c():l.hide()),o(),n.onMenuToggle(a,s.hasClass("open"))}),i.filter(".slide").find("li.hasChild > a").on("click",function(s){s.preventDefault();const a=e(this).parent();a.addClass("active").siblings().removeClass("active");const t=a.find(`> .${n.submenuClass}`);if(n.enableBreadcrumbs&&l&&l.is(":visible")){l.outerHeight();i.scrollTop(0)}else{const e=t.offset().top-i.offset().top+i.scrollTop();i.scrollTop(e)}o()}),i.filter(".accordion").find("li.hasChild > a").on("click",function(s){s.preventDefault();const a=e(this),t=a.parent(),l=t.siblings(".active");t.find(`> .${n.submenuClass}`).slideToggle(()=>{if(e(this).is(":visible")){const e=a[0].offsetTop;i.stop().animate({scrollTop:e},300)}}),l.find(`ul.${n.submenuClass}`).slideUp(()=>{e(this).find(".hasChild").removeClass("active")}),t.toggleClass("active").siblings().removeClass("active"),o()}),i.find("li.back a").on("click",function(s){s.preventDefault(),e(this).closest(`ul.${n.submenuClass}`).parent().removeClass("active"),o()}),n.onMenuLoad(a),this}}(jQuery);
